<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å®¶åº­ä¸­æ§ä¸­å¿ƒ | Smart Home Hub</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-dark: #0f172a;
      --panel-bg: #1e293b;
      --accent-primary: #38bdf8; /* äº®è— */
      --accent-secondary: #818cf8; /* ç´«è— */
      --accent-success: #34d399; /* ç¶  */
      --accent-warn: #fbbf24; /* é»ƒ */
      --text-main: #f1f5f9;
      --text-muted: #94a3b8;
      --border: rgba(255,255,255,0.1);
    }

    * { box-sizing: border-box; outline: none; }
    
    body {
      margin: 0;
      font-family: 'Noto Sans TC', sans-serif;
      background-color: var(--bg-dark);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* é ‚éƒ¨å°èˆª */
    header {
      background: rgba(15, 23, 42, 0.95);
      border-bottom: 1px solid var(--border);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(10px);
    }

    .brand { font-size: 20px; font-weight: 700; color: var(--text-main); display: flex; align-items: center; gap: 10px; }
    .brand span { color: var(--accent-primary); }
    .date-display { font-size: 14px; color: var(--text-muted); font-weight: 500; }

    /* ä¸»è¦ä½ˆå±€ */
    .container {
      max-width: 1200px;
      margin: 30px auto;
      padding: 0 20px;
      width: 100%;
      display: grid;
      grid-template-columns: 300px 1fr; /* å·¦å´æ¬„ + å³å´ä¸»å€ */
      gap: 30px;
    }

    /* éŸ¿æ‡‰å¼ï¼šæ‰‹æ©Ÿç‰ˆè®Šå–®æ¬„ */
    @media (max-width: 768px) {
      .container { grid-template-columns: 1fr; }
    }

    /* å¡ç‰‡é€šç”¨æ¨£å¼ */
    .card {
      background: var(--panel-bg);
      border-radius: 16px;
      border: 1px solid var(--border);
      padding: 24px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s;
    }

    .card h3 { margin: 0 0 15px 0; font-size: 16px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; display: flex; align-items: center; gap: 8px; }
    
    /* å·¦å´æ¬„ï¼šé‡è¦è³‡è¨Šèˆ‡ç•™è¨€æ¿ */
    .sidebar { display: flex; flex-direction: column; gap: 24px; }

    /* 1. å®¶åº­ç•™è¨€æ¿ (äº’å‹•å€) */
    .memo-card textarea {
      width: 100%;
      height: 150px;
      background: rgba(0,0,0,0.2);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-main);
      padding: 12px;
      resize: none;
      font-size: 15px;
      line-height: 1.6;
    }
    .memo-card textarea:focus { border-color: var(--accent-primary); }
    .save-status { font-size: 12px; color: var(--accent-success); margin-top: 5px; height: 18px; opacity: 0; transition: opacity 0.3s;}

    /* 2. ç·Šæ€¥å‚™å¿˜éŒ„ (éœæ…‹è³‡è¨Š) */
    .info-list { list-style: none; padding: 0; margin: 0; }
    .info-list li {
      display: flex; justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid var(--border);
      font-size: 14px;
    }
    .info-list li:last-child { border-bottom: none; }
    .info-label { color: var(--text-muted); }
    .info-value { font-family: monospace; font-size: 15px; color: var(--accent-secondary); user-select: all; cursor: pointer; }

    /* å³å´ä¸»å€ */
    .main-grid { display: grid; gap: 24px; }

    /* 3. æ ¸å¿ƒé›²ç«¯æŒ‰éˆ• (ç‰¹åˆ¥é¡¯çœ¼) */
    .hero-btn {
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: #0f172a;
      border: none;
      width: 100%;
      padding: 30px;
      border-radius: 16px;
      cursor: pointer;
      text-align: left;
      position: relative;
      overflow: hidden;
      transition: transform 0.2s;
    }
    .hero-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(56, 189, 248, 0.2); }
    .hero-btn h2 { margin: 0; font-size: 24px; }
    .hero-btn p { margin: 5px 0 0; opacity: 0.8; font-size: 15px; }
    .hero-icon { position: absolute; right: 20px; bottom: -10px; font-size: 80px; opacity: 0.2; transform: rotate(-15deg); }

    /* 4. è³¼ç‰©/å¾…è¾¦æ¸…å–® (äº’å‹•å€) */
    .todo-input-group { display: flex; gap: 10px; margin-bottom: 15px; }
    .todo-input-group input {
      flex: 1; background: rgba(0,0,0,0.2); border: 1px solid var(--border);
      padding: 10px 15px; border-radius: 8px; color: #fff;
    }
    .todo-input-group button {
      background: var(--accent-primary); color: #000; border: none;
      padding: 0 20px; border-radius: 8px; cursor: pointer; font-weight: bold;
    }
    .todo-list { list-style: none; padding: 0; margin: 0; }
    .todo-list li {
      background: rgba(255,255,255,0.03);
      padding: 10px 15px;
      border-radius: 8px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      animation: fadeIn 0.3s ease;
    }
    .todo-list li span { cursor: pointer; }
    .todo-list li.done span { text-decoration: line-through; color: var(--text-muted); }
    .delete-btn { color: #ef4444; cursor: pointer; background: none; border: none; font-size: 18px; }

    /* 5. å¿«é€Ÿé€£çµç¶²æ ¼ */
    .links-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 15px;
    }
    .link-item {
      background: rgba(255,255,255,0.03);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      text-decoration: none;
      color: var(--text-main);
      transition: 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }
    .link-item:hover { background: rgba(255,255,255,0.08); border-color: var(--accent-primary); transform: translateY(-2px); }
    .link-icon { font-size: 28px; }
    .link-name { font-size: 14px; font-weight: 500; }
    .link-cat { font-size: 12px; color: var(--text-muted); }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

  </style>
</head>
<body>

<header>
  <div class="brand">
    ğŸ  Family<span>Hub</span>
  </div>
  <div class="date-display" id="dateDisplay">
    è¼‰å…¥ä¸­...
  </div>
</header>

<div class="container">
  
  <aside class="sidebar">
    
    <div class="card memo-card">
      <h3>ğŸ“Œ å®¶äººç•™è¨€æ¿ <small>(è‡ªå‹•å„²å­˜)</small></h3>
      <textarea id="familyMemo" placeholder="ä¾‹å¦‚ï¼šçˆ¸çˆ¸ä»Šæ™šä¸å›å®¶åƒæ™šé¤ã€Wifiè²»å·²ç¹³..."></textarea>
      <div id="saveStatus" class="save-status">âœ“ å·²å„²å­˜</div>
    </div>

    <div class="card">
      <h3>ğŸ” å¿«é€Ÿè³‡è¨Š (é»æ“Šè¤‡è£½)</h3>
      <ul class="info-list">
        <li>
          <span class="info-label">WiFi å¯†ç¢¼</span>
          <span class="info-value" onclick="copyText(this)">HomeSweetHome_888</span>
        </li>
        <li>
          <span class="info-label">è»Šç‰Œè™Ÿç¢¼</span>
          <span class="info-value" onclick="copyText(this)">ABC-1234</span>
        </li>
        <li>
          <span class="info-label">çµ±ç·¨/è¼‰å…·</span>
          <span class="info-value" onclick="copyText(this)">/AB12345</span>
        </li>
      </ul>
    </div>

  </aside>

  <main class="main-grid">

    <button class="hero-btn" onclick="openCloud()">
      <h2>ğŸ“‚ é€²å…¥å®¶åº­é›²ç«¯ç³»çµ±</h2>
      <p>å­˜å–åˆç´„ã€ä¿éšªè³‡æ–™ã€å®¶åº­å¸³æœ¬ (Google Script)</p>
      <div class="hero-icon">â˜ï¸</div>
    </button>

    <div class="card">
      <h3>ğŸ›’ è³¼ç‰©èˆ‡å¾…è¾¦æ¸…å–®</h3>
      <div class="todo-input-group">
        <input type="text" id="todoInput" placeholder="è¼¸å…¥è¦è²·çš„æ±è¥¿æˆ–ä»£è¾¦äº‹é …..." onkeypress="handleEnter(event)">
        <button onclick="addTodo()">æ–°å¢</button>
      </div>
      <ul id="todoList" class="todo-list">
        </ul>
    </div>

    <div class="card">
      <h3>ğŸš€ å¿«é€Ÿå‚³é€é–€</h3>
      <div class="links-grid">
        <a href="https://mail.google.com" target="_blank" class="link-item">
          <span class="link-icon">ğŸ“§</span>
          <span class="link-name">Gmail ä¿¡ç®±</span>
          <span class="link-cat">å¸³å–®/é€šçŸ¥</span>
        </a>
        
        <a href="https://photos.google.com" target="_blank" class="link-item">
          <span class="link-icon">ğŸ“¸</span>
          <span class="link-name">Google ç›¸ç°¿</span>
          <span class="link-cat">ç”Ÿæ´»å›æ†¶</span>
        </a>
        <a href="https://calendar.google.com" target="_blank" class="link-item">
          <span class="link-icon">ğŸ“…</span>
          <span class="link-name">å®¶åº­æ—¥æ›†</span>
          <span class="link-cat">è¡Œç¨‹è¦åŠƒ</span>
        </a>
        <a href="https://keep.google.com" target="_blank" class="link-item">
          <span class="link-icon">ğŸ’¡</span>
          <span class="link-name">Google Keep</span>
          <span class="link-cat">è¨˜äº‹æœ¬</span>
        </a>

        <a href="https://www.google.com.tw/maps" target="_blank" class="link-item">
          <span class="link-icon">ğŸ“</span>
          <span class="link-name">Google åœ°åœ–</span>
          <span class="link-cat">å°èˆª/æ™¯é»</span>
        </a>
        <a href="https://www.booking.com" target="_blank" class="link-item">
          <span class="link-icon">ğŸ¨</span>
          <span class="link-name">Booking</span>
          <span class="link-cat">è¨‚æˆ¿</span>
        </a>
        <a href="https://www.thsrc.com.tw" target="_blank" class="link-item">
          <span class="link-icon">ğŸš„</span>
          <span class="link-name">é«˜éµè¨‚ç¥¨</span>
          <span class="link-cat">äº¤é€š</span>
        </a>
      </div>
    </div>

  </main>
</div>

<script>
  // 1. é›²ç«¯é€£çµè¨­å®š
  const CLOUD_URL = "https://script.google.com/macros/s/AKfycbypa9JJFV3222qsNr2TBsQO7dWn54iWGQY3FVce7SBJfJ9JG3S9M_D7ejvNeMk1VoyvXA/exec";
  function openCloud(){ window.open(CLOUD_URL, "_blank"); }

  // 2. æ—¥æœŸé¡¯ç¤º
  const dateOptions = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
  document.getElementById('dateDisplay').textContent = new Date().toLocaleDateString('zh-TW', dateOptions);

  // 3. ç•™è¨€æ¿åŠŸèƒ½ (ä½¿ç”¨ LocalStorage)
  const memoEl = document.getElementById('familyMemo');
  const statusEl = document.getElementById('saveStatus');

  // è¼‰å…¥å·²å­˜ç•™è¨€
  if(localStorage.getItem('familyMemo')) {
    memoEl.value = localStorage.getItem('familyMemo');
  }

  // è‡ªå‹•å„²å­˜
  memoEl.addEventListener('input', () => {
    localStorage.setItem('familyMemo', memoEl.value);
    statusEl.style.opacity = '1';
    setTimeout(() => { statusEl.style.opacity = '0'; }, 2000);
  });

  // 4. è¤‡è£½åŠŸèƒ½
  function copyText(element) {
    const text = element.innerText;
    navigator.clipboard.writeText(text).then(() => {
      const original = element.innerText;
      element.innerText = "å·²è¤‡è£½!";
      element.style.color = "#34d399";
      setTimeout(() => {
        element.innerText = original;
        element.style.color = "";
      }, 1000);
    });
  }

  // 5. å¾…è¾¦äº‹é …åŠŸèƒ½
  let todos = JSON.parse(localStorage.getItem('familyTodos')) || [];
  const todoListEl = document.getElementById('todoList');
  const todoInput = document.getElementById('todoInput');

  function renderTodos() {
    todoListEl.innerHTML = '';
    todos.forEach((todo, index) => {
      const li = document.createElement('li');
      if(todo.done) li.classList.add('done');
      li.innerHTML = `
        <span onclick="toggleTodo(${index})">${todo.text}</span>
        <button class="delete-btn" onclick="deleteTodo(${index})">Ã—</button>
      `;
      todoListEl.appendChild(li);
    });
    localStorage.setItem('familyTodos', JSON.stringify(todos));
  }

  function addTodo() {
    const text = todoInput.value.trim();
    if(text) {
      todos.push({ text: text, done: false });
      todoInput.value = '';
      renderTodos();
    }
  }

  function toggleTodo(index) {
    todos[index].done = !todos[index].done;
    renderTodos();
  }

  function deleteTodo(index) {
    todos.splice(index, 1);
    renderTodos();
  }

  function handleEnter(e) {
    if(e.key === 'Enter') addTodo();
  }

  // åˆå§‹åŒ–åˆ—è¡¨
  renderTodos();

</script>

</body>
</html>
